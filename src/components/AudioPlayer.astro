---
interface Props {
  title: string;
  audio_file: string;
  cover?: string;
  description?: string;
}

const { title, audio_file, cover, description } = Astro.props;
---

<div class="bg-ivory-card dark:bg-navy-card rounded-2xl overflow-hidden shadow-lg border border-navy/10 dark:border-ivory-light/10 p-6 hover:scale-[1.02] hover:shadow-2xl transition-all duration-300">
  <div class="flex gap-6">
    {cover && (
      <div class="flex-shrink-0">
        <img
          src={cover}
          alt={title}
          class="w-24 h-24 rounded-2xl object-cover"
        />
      </div>
    )}
    <div class="flex-1 min-w-0">
      <h3 class="text-xl font-serif font-bold text-navy dark:text-ivory-light mb-2">{title}</h3>
      {description && (
        <p class="text-sm text-navy/70 dark:text-ivory-light/70 mb-4">{description}</p>
      )}
      <audio
        controls
        class="w-full rounded-2xl"
        preload="metadata"
      >
        <source src={audio_file} type="audio/mpeg" />
        Browser-ul tău nu suportă player-ul audio.
      </audio>
    </div>
  </div>
</div>

<style>
  audio {
    height: 40px;
  }

  audio::-webkit-media-controls-panel {
    background-color: transparent;
  }
</style>
